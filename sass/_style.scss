@import "webfont";

$base-g: #2DAE86;
$dark-p: #44476D;
$base-p: #7F83AE;
$base-r: #F46642;

body {
	@include font-major;

	font-weight      : 300;
	font-size        : 16px;
	
	* { box-sizing: border-box; }
}

.container { min-height: 100%; background: $dark-p; }

.page-header {
	height      : 60vw;
	max-height  : 800px;
	min-height  : 480px;
	width       : 100%;
	position    : relative;
	padding-top : 8vw;
	
	text-align : center;
	color      : #fff;

	background-image : linear-gradient(0deg, #5A5F95 0%, #2DC88B 100%);


	h3 { font-size: 4em; font-weight: 100;  line-height: 2em; margin: 0; }
	h5 { font-size: 1.4em; font-weight: 300; opacity: .7;}

	.page-header-content { 
		transition : opacity .4s ease-in; 
		h5 { transition : margin-top .4s ease-in; }
	}

	.loading & .page-header-content {
		opacity  : 0 ;
		h5 { margin-top: 20px; }
	}

	.loaded & .page-header-content { 
		opacity: 1; 
		h5 { margin-top: 0; } 
	}
}

.type-rule {
	@include font-mono;
	font-size      : 1.2em;
	overflow       : hidden;
	white-space    : nowrap;
	word-break     : break-all;
	width          : 23.2em;
	padding        : .3em .8em;
	margin         : 4vw auto;
	position       : relative;
	color          : lime;
	letter-spacing : 0em;
	box-sizing     : content-box;

	background: black;

	animation: typing 6s steps(42, end) .7s 1;

	&:after {
		content  : "_";
		position : absolute;
		right    : 0.2em;
		
		animation: blink .8s linear 0 infinite;
	}
}

.rule-resource { color: steelblue; }
.rule-select { color: orange; }

.cursor {
	position : absolute;
	right    : 0em;
    height : 1em;
    width  : .8em;
	
	background : black;
}

@keyframes typing {
	from { width: 0; }
}

@keyframes blink {
	to { opacity: 0; }
}

#mc_embed_signup {
	color      : $base-g;
	width      : 50vw;
	max-width  : 600px;
	min-width  : 370px;
	height     : 12vw;
	max-height : 144px;
	min-height : 80px;
	padding    : 2vw 1.5vw 0 1.5vw;
	margin     : 2.5vw auto;
	background : rgba(255,255,255,.1);
	text-align : left;
	
	label { color: #fff; }
	
	.input-wrap { margin-top: .3vw; display: flex; }
	.input-button { display: inline-block; }

	.email,.button {
		border        : none;
		border-radius : 2px;
		height        : 5vw;
		max-height    : 60px;
		min-height    : 32px;
		font-size     : 1em;
	}

	.email {
		width      : 70%;
		padding    : 1em;
		transition : all .2s ease-in-out;
		border     : 0 solid transparent;
		background : rgba(255,255,255,.8);

		&:hover {
			background : #fff;
		}

		&:focus { 
			border-bottom : 4px solid $base-g; 
			outline       : none;
			box-shadow    : 0 0 5px transparentize(lighten($base-g,10%),.2);
			background    : #fff;
		}
	}

	.input-button { width: 28%; margin-left: 2%; }

	.button {
		width      : 100%;
		background : $base-g;
		color      : #fff;
		transition : all .2s ease-in-out;
		font-size  : 1.2em;

		&:hover { background: lighten($base-g, 10%); border-bottom: 4px solid $base-g; }
	}
}

.curve-bg {
	position  : absolute;
	// bottom : -10%;
	left      : 0;
	top       : 0;
	width     : 100%;

	svg { display: block; margin: 0 auto; }
}

$curveCount: 6;

.curve {
  stroke-width: 1px; 
  stroke-opacity: 0;
  
  path {
   transform-origin: center 60px; 
  }
  
  @for $i from 1 through $curveCount {
    & path:nth-child(#{$i}) {
        animation: curve 6s linear ($i - 1)*1.2s infinite;
    }
  }
}

 @keyframes curve {
  0% { transform: none; stroke-opacity:0; }
  50% { transform: rotateX(360deg) scaleY(.8);
        stroke-opacity: .5; }
   70% { /* transform: skewY(-2deg); */ }
  100% { transform: none; stroke-opacity:0;}
} 

.hiw {
	height  : 2700px;
	position : relative;
	background-image: linear-gradient(-180deg, #EDEAF6 0%, #E6FCF3 100%);
}

.hiw-header {
	text-align  : center;
	font-size   : 3em;
	color       : $base-g;
	margin      : 60px 0;
	width       : 100%;
	line-height : 80px;
}

.hiw-content {
	display  : flex;
	padding  : 140px 10%; 
}

.text-wrap {
	width   : 560px;
}

.hiw-block {
	padding   : 55px 0;
	height    : 550px;
	width     : 540px;
	// margin : 0 auto;

	h5 { font-size: 2.4em; font-weight: 300; color: $dark-p; margin: 10px 0 0 0; }
	p { font-size: 1.2em; color: $base-p; }
}

.animation-wrap {
	width         : 460px;
	position      : relative;
	overflow      : hidden;

	svg {
	  position : fixed;
	  display  : none;
	}
}

#app {
  right    : 10%;
}

#policy {
	margin-right: 60px;
}

#rule { 
	stroke-dasharray:200px; 
}

#status { display: none; }

#status rect { fill: "#7ED321"; }

#status-alert { 
	fill         : $base-r;
	stroke       : $base-r;
	stroke-width : 0;
	animation    : alert1 .5s infinite; 
}

#alert-rule {
	stroke: #DCE1DF;
	animation: alert2 .5s infinite;
}

#line-alert path {
	stroke-dasharray : 400px;
	stroke-dashoffset: 400px;
	animation        : alert3 1s infinite;
}

@for $i from 1 through 6 {
	#status rect:nth-child(#{$i}) {
		animation: status-check 1s steps(2,end) ($i - 1)*0.4s infinite;
	}
}

@keyframes status-check {
	from { fill: #7ED321; stroke:green; stroke-width:0; }
	to { fill: yellow; stroke:yellow; stroke-width: 4; }
}

@keyframes alert1 {
	to { stroke-width: 8; }
}

@keyframes alert2 {
	to { stroke: $base-r; }
}

@keyframes alert3 {
	// to { stroke-width: 7; }
	to { stroke-dashoffset:0; }
}

.subscribe {
	width   : 100%;
	height  : 500px;
	padding : 25% 0;

	h3 { text-align: center; font-size: 2.4em; color: #fff; font-weight: 300; }
	
	#mc_embed_signup {
	  padding : 3vw 2vw 0 2vw;
	  margin  : 8% auto;
	}

}

footer {
	width      : 100%;
	height     : 40px;
	font-size  : 14px;
	text-align : center;
	padding    : 10px;
	color      : $base-g;
	background : #eaeaea;
}
